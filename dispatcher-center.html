<!DOCTYPE html>
<html
  lang="en"
  class="light-style layout-navbar-fixed layout-menu-fixed"
  dir="ltr"
  data-theme="theme-default"
  data-assets-path="./assets/"
  data-template="vertical-menu-template"
>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
    />
    <title>Dispatcher Center - MTC Engineering</title>

    <!-- Favicon & Fonts -->
    <link
      rel="icon"
      type="image/x-icon"
      href="./assets/img/favicon/favicon.ico"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap"
      rel="stylesheet"
    />

    <!-- Icons -->
    <link
      rel="stylesheet"
      href="./assets/vendor/fonts/materialdesignicons.css"
    />
    <link rel="stylesheet" href="./assets/vendor/fonts/fontawesome.css" />

    <!-- Core CSS -->
    <link
      rel="stylesheet"
      href="./assets/vendor/css/rtl/core.css"
      class="template-customizer-core-css"
    />
    <link
      rel="stylesheet"
      href="./assets/vendor/css/rtl/theme-default.css"
      class="template-customizer-theme-css"
    />
    <link rel="stylesheet" href="./assets/css/custom.css" />

    <!-- Vendors CSS -->
    <link
      rel="stylesheet"
      href="./assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css"
    />
    <link
      rel="stylesheet"
      href="./assets/vendor/libs/node-waves/node-waves.css"
    />
    <link
      rel="stylesheet"
      href="./assets/vendor/libs/typeahead-js/typeahead.css"
    />
    <link
      rel="stylesheet"
      href="./assets/vendor/libs/datatables-bs5/datatables.bootstrap5.css"
    />
    <link
      rel="stylesheet"
      href="./assets/vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css"
    />
    <link
      rel="stylesheet"
      href="./assets/vendor/libs/flatpickr/flatpickr.css"
    />
    <link
      rel="stylesheet"
      href="./assets/vendor/libs/datatables-buttons-bs5/buttons.bootstrap5.css"
    />
    <link
      rel="stylesheet"
      href="./assets/vendor/libs/datatables-checkboxes-jquery/datatables.checkboxes.css"
    />
    <link rel="stylesheet" href="./assets/vendor/libs/select2/select2.css" />

    <!-- Helpers -->
    <script src="./assets/vendor/js/helpers.js"></script>
    <script src="./assets/vendor/js/template-customizer.js"></script>
    <script src="./assets/js/config.js"></script>

    <style>
      .assign-modal .modal-content {
        border-radius: 12px;
      }
      .assign-modal .modal-body {
        padding-left: 1.5rem;
        padding-right: 1.5rem;
      }

      /* Modifikasi untuk Roster di dalam Modal */
      .modal-body .table-responsive {
        border: 1px solid #eceff3;
        border-radius: 12px;
        overflow: auto;
      }

      .modal-body .roster-table thead th {
        background-color: #f8fafc;
        border-bottom: 1px solid #eceff3;
        border-left: 1px solid #eceff3;
      }

      .modal-body .roster-table thead th:first-child {
        border-left: none;
      }

      .modal-body .roster-table thead tr th {
        padding: 10px 15px;
        font-weight: 700;
        color: #6b7280;
      }

      .modal-body .roster-table tbody tr:nth-child(odd) {
        background-color: #fcfcfe;
      }

      .modal-body .roster-table tbody td:first-child {
        border-right: 1px solid #eceff3;
        background-color: #fff;
      }

      .modal-body .roster-table tbody td {
        border-right: 1px solid #eceff3;
      }

      .modal-body .roster-table tbody td:last-child {
        border-right: none;
      }
      .modal-body .roster-table tbody tr:last-child td {
        border-bottom: none;
      }

      /* Style untuk tombol select date */
      .modal-body .roster-table .btn-outline-primary {
        border-radius: 6px;
        border: 1px solid #eaf1ff;
        color: #4d4da0;
        background-color: #f1f5fe;
        font-weight: 600;
        text-transform: capitalize;
        font-size: 0.85rem;
        padding: 4px 8px;
        display: block;
        width: 100%;
      }
      .modal-body .roster-table .btn-outline-primary:hover {
        background-color: #e3ecff;
      }

      .modal-body .roster-table .custom-bg-warning {
        background-color: #fff1d6 !important;
        color: #7a4e00;
      }

      .modal-body .roster-table .custom-bg-primary {
        background-color: #eae9ff !important;
        color: #4d4da0;
      }

      .modal-body .roster-table .badge.bg-label-primary {
        background-color: #eaf1ff !important;
        color: #1d4ed8 !important;
        font-weight: 600;
        padding: 4px 10px;
      }

      /* Pager */
      .assign-modal .pagination .page-link {
        border-radius: 8px;
        border: 1px solid #e7eaf0;
      }
      .assign-modal .pagination .page-item.active .page-link {
        background-color: #eaf1ff;
        color: #1d4ed8;
        border-color: #e7eaf0;
      }
      :root {
        --soft-r: 14px;
        --border: #e7e9ef;
        --muted: #6b7280;
        --ink: #111827;
        --search-bg: #e9effa;
        --panel: #eceff3;
        --lavender: #eae9ff;
        --lavender-text: #4d4da0;
        --amber-soft: #fff1d6;
        --amber-text: #7a4e00;
      }
      body {
        font-family: "Poppins", system-ui, Segoe UI, Roboto, Arial, sans-serif;
      }

      /* KPI */
      .kpi {
        border: 1px solid var(--border);
        border-radius: var(--soft-r);
        padding: 22px;
        height: 100%;
        display: flex;
        align-items: center;
        gap: 18px;
      }
      .kpi .num {
        font-size: 56px;
        font-weight: 800;
        line-height: 1;
      }
      .kpi .title {
        font-weight: 700;
        color: var(--ink);
      }
      .kpi-left {
        background: #fff;
      }
      .kpi-mid {
        background: #f0f2ff;
      }
      .kpi-right {
        background: #fff6e7;
      }
      .kpi .legend {
        margin-left: auto;
        display: flex;
        flex-direction: column;
        gap: 10px;
      }
      .chip {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        border-radius: 12px;
        padding: 8px 14px;
        font-weight: 700;
        min-width: 140px;
      }
      .chip .dot {
        width: 8px;
        height: 8px;
        border-radius: 999px;
        background: #fff;
        opacity: 0.85;
      }
      .chip-urgent {
        background: #d14949;
        color: #fff;
      }
      .chip-high {
        background: #e39a16;
        color: #fff;
      }
      .chip-normal {
        background: #1e8d60;
        color: #fff;
      }

      /* Search + toolbar */
      .search-pill {
        background: var(--search-bg);
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 8px 12px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .search-pill input {
        border: 0;
        background: transparent;
        outline: 0;
        width: 100%;
        height: 36px;
      }
      .bulk-toolbar {
        background: var(--panel);
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 10px 14px;
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .bulk-toolbar .btn {
        padding: 0.35rem 0.75rem;
      }

      /* CUSTOM CHECKBOX (kotak, biru saat checked) */
      .wo-card .form-check-input {
        width: 18px;
        height: 18px;
        border-radius: 4px;
        border: 2px solid #cbd5e1;
        box-shadow: none;
        margin-right: 6px;
      }
      .wo-card .form-check-input:focus {
        box-shadow: none;
      }
      .wo-card .form-check-input:checked {
        background-color: #3c57a1;
        border-color: #3c57a1;
      }

      .kpi-group {
        display: flex;
        justify-content: space-between;
        gap: 20px;
        padding: 22px;
        border: 1px solid var(--border);
        border-radius: var(--soft-r);
        background: #fff;
      }
      .kpi-group .kpi-block {
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: space-between;
        background: #f9fafb;
        padding: 16px;
        border-radius: var(--soft-r);
      }
      .kpi-group .kpi-block:first-child {
        flex-direction: column;
        justify-content: center;
        text-align: center;
        background: #fff;
      }

      /* WO card */
      .wo-card {
        border: 1px solid var(--border);
        border-radius: 14px;
        padding: 16px 18px;
        background: #fff;
        box-shadow: 0 2px 8px rgba(17, 24, 39, 0.06);
      }

      /* Baris ID: checkbox + WO code */
      .wo-id {
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .wo-id .form-check-input {
        margin: 0;
        transform: scale(1.1);
      }

      .wo-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 12px;
      }
      .wo-left {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .wo-code {
        color: #3F3F40;
        font-weight: 700;
      }
      .pill-overdue {
        background: #cf4b4b;
        color: #fff;
        font-weight: 700;
        border-radius: 999px;
        padding: 6px 12px;
        font-size: 0.9rem;
      }
      .tag {
        background: #eff1f5;
        border-radius: 10px;
        padding: 4px 10px;
        font-weight: 700;
        font-size: 0.9rem;
        color: #111827;
      }
      .severity-high {
        color: #e39a16;
        font-weight: 700;
      }
      .severity-urgent {
        color: #c0392b;
        font-weight: 700;
      }
      .middot {
        color: #aeb6c2;
        padding: 0 4px;
      }

      .wo-title {
        font-size: 20px;
        font-weight: 800;
        margin-top: 4px;
        margin-left: 28px;
      }
      .meta {
        display: flex;
        gap: 8px;
        align-items: center;
        margin-top: 2px;
        margin-left: 28px;
      }

      /* Repeat To + Edit */
      .repeat-row {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 12px;
      }
      .repeat-left {
        display: flex;
        align-items: center;
        gap: 8px;
        color: #6b7280;
        font-weight: 600;
      }
      .user-pill {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 28px;
        height: 28px;
        border-radius: 999px;
        background: #e3ecff;
        color: #1d4ed8;
        font-weight: 800;
        font-size: 0.8rem;
      }
      .btn-edit {
        border: 1px solid var(--border);
        border-radius: 10px;
        padding: 0.45rem 0.9rem;
        font-weight: 700;
      }
      .btn-edit:hover {
        filter: brightness(0.98);
      }

      .wo-sep {
        border-top: 1px solid #eceff5;
        margin: 12px 0 14px 0;
      }

      .section-title {
        color: #6b7280;
        font-weight: 700;
        margin-bottom: 6px;
      }
      .asset-row i,
      .nextdue-row i {
        width: 28px;
        height: 28px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: 1px solid var(--border);
        border-radius: 8px;
        color: #7c8597;
        background: #fff;
      }
      .next-date {
        font-weight: 800;
      }
      .next-hint {
        color: #6b7280;
      }
      .danger-dot {
        color: #d14949;
      }

      /* ASSIGN bars */
      .assign-bar {
        margin-top: 14px;
        border-radius: 10px;
        text-align: center;
        padding: 10px;
        font-weight: 800;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        cursor: pointer;
        user-select: none;
        border: 1px solid transparent;
      }
      .assign-bar-primary {
        background: var(--lavender);
        color: var(--lavender-text);
      }
      .assign-bar-primary:hover {
        filter: brightness(0.98);
      }
      .assign-bar-warning {
        background: var(--amber-soft);
        color: var(--amber-text);
      }
      .assign-bar-warning:hover {
        filter: brightness(0.98);
      }

      .content-gap {
        row-gap: 1.25rem;
      }

      /* Filter card */
      .filter-card {
        border-radius: 14px;
      }
      .filter-card .accordion-button {
        font-weight: 700;
      }
      .filter-line {
        border-top: 1px solid var(--border);
        margin: 12px 0;
      }
      .form-check {
        margin-bottom: 0.4rem;
      }

      /* Projection block */
      .proj {
        border-top: 1px solid var(--border);
        margin-top: 12px;
        padding-top: 12px;
      }
      .proj h6 {
        margin-bottom: 0.5rem;
      }
      .seg {
        display: flex;
        gap: 8px;
      }
      .seg .btn-seg {
        border: 1px solid var(--border);
        background: #f2f4f7;
        padding: 0.35rem 0.6rem;
        border-radius: 8px;
        font-weight: 600;
        font-size: 0.85rem;
      }
      .seg .btn-seg.active {
        background: #e9effa;
        border-color: #bfd0f2;
        color: #1d4ed8;
      }
      .range-wrap {
        margin-top: 0.35rem;
      }
      .range-wrap .small {
        color: #6b7280;
      }
      .range-outer {
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .range-outer input[type="range"] {
        width: 100%;
        accent-color: #f59e0b;
      }
      .badge-amber-soft {
        background: #fff7e6;
        color: #b45309;
        border-radius: 10px;
        padding: 2px 8px;
        font-weight: 700;
      }

      .chk-normal:checked {
        background: #fff;
        border-color: #6b7280;
      }
      .chk-high:checked {
        background: #f59e0b;
        border-color: #f59e0b;
      }
      .chk-urgent:checked {
        background: #dc2626;
        border-color: #dc2626;
      }

      .bg-warning-subtle {
        background: #fff6e5;
      }
      .bg-primary-subtle {
        background: #eaf1ff;
      }

      /* ===== Assign Modal Polishing ===== */
      .assign-modal {
        --am-border: #e7eaf0;
        --am-muted: #6b7280;
        --am-head: #f8fafc;
      }

      /* Toolbar - 2 baris: search full width, lalu Skill Set & Set Date */
      .assign-modal .am-toolbar {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr;
        gap: 14px;
        padding: 6px 0 12px 0;
      }
      .assign-modal .am-field {
        display: flex;
        flex-direction: column;
      }
      .assign-modal .am-field-search {
        grid-column: 1 / -1;
      }
      .assign-modal .am-label {
        color: #6b7280;
        font-size: 0.88rem;
      }

      /* Search pill look */
      .assign-modal .am-search .input-group-text {
        background: #eef3ff;
        border-color: var(--am-border);
      }
      .assign-modal .am-search input {
        background: #f6f8ff;
        border-color: var(--am-border);
        height: 44px;
      }

      /* Date input */
      .assign-modal .am-date .input-group-text {
        background: #fff;
        border-color: var(--am-border);
      }
      .assign-modal .am-date .form-control {
        border-color: var(--am-border);
        height: 44px;
      }

      /* Select2: multi tags -> badge pill */
      .select2-container--default .select2-selection--multiple {
        min-height: 44px;
        border-color: #e7eaf0;
        border-radius: 12px;
        padding: 6px 6px;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      .select2-container--default
        .select2-search--inline
        .select2-search__field {
        margin-top: 0;
        line-height: 28px;
        height: 28px;
      }
      .select2-container--default
        .select2-selection--multiple
        .select2-selection__choice {
        border: 1px solid #e7eaf0;
        border-radius: 999px;
        padding: 4px 10px;
        margin: 0 6px 0 0;
        background: #f1f5fe;
        color: #111827;
        font-weight: 600;
      }
      .select2-container--default
        .select2-selection--multiple
        .select2-selection__choice__remove {
        border: none;
        margin-right: 6px;
        color: #475569;
      }
      .select2-container--default
        .select2-selection--multiple
        .select2-selection__rendered {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        padding: 0 6px;
      }

      /* Grid block */
      .assign-modal .am-grid {
        background: #fff;
        border: 1px solid var(--am-border);
        border-radius: 12px;
      }
      .assign-modal .am-grid-top,
      .assign-modal .am-grid-foot {
        padding: 10px 12px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }
      .assign-modal .am-grid-scroll {
        overflow: auto;
        padding-bottom: 8px;
      }
      .assign-modal .am-grid-head {
        position: sticky;
        top: 0;
        background: var(--am-head);
        border-top: 1px solid var(--am-border);
        border-bottom: 1px solid var(--am-border);
      }
      .assign-modal .am-grid-head .col {
        padding: 8px 6px;
      }
      .assign-modal .am-grid-row .col {
        padding: 10px 8px;
      }
      .assign-modal .am-grid-row:nth-child(even) {
        background: #fcfcfe;
      }
      .assign-modal .am-colname {
        min-width: 220px;
      }
      .assign-modal .am-colday {
        min-width: 180px;
      }

      .assign-modal .am-pill {
        border: 1px solid var(--am-border);
        border-radius: 8px;
        padding: 6px 8px;
        font-weight: 600;
        margin-bottom: 6px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .assign-modal .am-pill .am-sub {
        display: block;
        font-weight: 500;
        color: #6b7280;
        font-size: 0.75rem;
      }
      .assign-modal .am-pill-warn {
        background: #fff6e5;
      }
      .assign-modal .am-pill-info {
        background: #eaf1ff;
      }
      .assign-modal .am-pill-dark {
        background: #2f3136;
        color: #fff;
      }
      .assign-modal .am-slotplus {
        text-align: center;
        color: #9aa2b1;
      }
      .assign-modal .am-link {
        background: none;
        border: 0;
        padding: 0;
        color: #3b82f6;
        font-weight: 600;
        text-decoration: none;
      }
      .assign-modal .am-link:hover {
        text-decoration: underline;
      }

      .assign-modal .am-pager .badge {
        border: 1px solid var(--am-border);
      }

      /* Assignment block */
      .assign-modal .am-assign .am-label {
        color: var(--am-muted);
        font-size: 0.88rem;
      }
      .assign-modal .am-assign .am-value {
        font-weight: 600;
      }

      /* Accordion */
      .assign-modal .am-acc-btn {
        background: #f8fafc;
        border-radius: 8px;
      }
    </style>
  </head>

  <body>
    <div class="layout-wrapper layout-content-navbar">
      <div class="layout-container">
        <!-- Sidebar -->
        <aside
          id="layout-menu"
          class="layout-menu menu-vertical menu bg-menu-theme"
        >
          <div class="app-brand demo">
            <a href="./dashboard.html" class="app-brand-link">
              <span class="app-brand-text demo menu-text fw-bold ms-2"
                >App MTC</span
              >
            </a>
            <a
              href="javascript:void(0);"
              class="layout-menu-toggle menu-link text-large ms-auto"
            >
              <i class="mdi mdi-backburger"></i>
            </a>
          </div>
          <div class="menu-inner-shadow"></div>
          <ul class="menu-inner py-1">
            <li class="menu-header fw-light mt-4">
              <span class="menu-header-text">Engineering MTC</span>
            </li>
            <li class="menu-item">
              <a
                href="javascript:void(0);"
                class="menu-link menu-toggle waves-effect"
              >
                <i class="menu-icon tf-icons mdi mdi-file-document-outline"></i>
                <div>MTC Setup</div>
              </a>
              <ul class="menu-sub">
                <li class="menu-item">
                  <a class="menu-link" href="./mtc-task.html"
                    ><div>MTC Task</div></a
                  >
                </li>
                <li class="menu-item">
                  <a class="menu-link" href="./mtc-template.html"
                    ><div>MTC Template</div></a
                  >
                </li>
                <li class="menu-item">
                  <a class="menu-link" href="./asset-readiness.html"
                    ><div>Asset Readiness</div></a
                  >
                </li>
                <li class="menu-item">
                  <a class="menu-link" href="./location-readiness.html"
                    ><div>Location Readiness</div></a
                  >
                </li>
                <li class="menu-item">
                  <a class="menu-link" href="./asset-meter-update.html"
                    ><div>Asset Meter Update</div></a
                  >
                </li>
              </ul>
            </li>
            <li class="menu-item active">
              <a href="./dispatcher-center.html" class="menu-link">
                <i
                  class="menu-icon tf-icons mdi mdi-clipboard-account-outline"
                ></i>
                <div>Dispatcher Center</div>
                <i class="mdi mdi-alert-circle ms-2 text-warning"></i>
              </a>
            </li>
            <li class="menu-item">
              <a href="./schedule-task.html" class="menu-link"
                ><i
                  class="menu-icon tf-icons mdi mdi-calendar-badge-outline"
                ></i>
                <div>Scheduled Task</div></a
              >
            </li>
            <li class="menu-item">
              <a href="./preventive-work-orders.html" class="menu-link"
                ><i class="menu-icon tf-icons mdi mdi-progress-wrench"></i>
                <div>Preventive Work Order</div></a
              >
            </li>
            <li class="menu-item">
              <a href="./corrective-work-order.html" class="menu-link"
                ><i class="menu-icon tf-icons mdi mdi-wrench-outline"></i>
                <div>Corrective Work Order</div></a
              >
            </li>
            <li class="menu-item">
              <a href="./discrepancy-report.html" class="menu-link"
                ><i class="menu-icon tf-icons mdi mdi-finance"></i>
                <div>Discrepancy Report</div></a
              >
            </li>
            <li class="menu-item">
              <a href="./mtc-setting.html" class="menu-link"
                ><i class="menu-icon tf-icons mdi mdi-cog-outline"></i>
                <div>MTC Setting</div></a
              >
            </li>
          </ul>
        </aside>
        <!-- /Sidebar -->

        <!-- Page -->
        <div class="layout-page">
          <!-- Navbar -->
          <nav
            class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme"
            id="layout-navbar-fixed"
          >
            <div
              class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none"
            >
              <a
                class="nav-item nav-link px-0 me-xl-4"
                href="javascript:void(0)"
                ><i class="mdi mdi-menu mdi-24px"></i
              ></a>
            </div>
            <div
              class="navbar-nav-right d-flex align-items-center"
              id="navbar-collapse"
            >
              <ul class="navbar-nav flex-row align-items-center ms-auto">
                <li class="nav-item dropdown-user dropdown">
                  <a
                    class="nav-link dropdown-toggle hide-arrow"
                    href="javascript:void(0);"
                    data-bs-toggle="dropdown"
                  >
                    <div class="avatar avatar-online">
                      <img
                        src="./assets/img/avatars/1.png"
                        class="w-px-40 h-auto rounded-circle"
                        alt=""
                      />
                    </div>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-end">
                    <li>
                      <a class="dropdown-item" href="#"
                        ><div class="d-flex">
                          <div class="flex-shrink-0 me-3">
                            <div class="avatar avatar-online">
                              <img
                                src="./assets/img/avatars/1.png"
                                class="w-px-40 h-auto rounded-circle"
                                alt=""
                              />
                            </div>
                          </div>
                          <div class="flex-grow-1">
                            <span class="fw-semibold d-block">John Doe</span
                            ><small class="text-muted">Admin</small>
                          </div>
                        </div></a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item" href="./index.html"
                        ><i class="mdi mdi-logout me-2"></i
                        ><span>Log Out</span></a
                      >
                    </li>
                  </ul>
                </li>
              </ul>
            </div>
          </nav>
          <!-- /Navbar -->

          <div class="content-wrapper">
            <div class="container-xxl flex-grow-1 container-p-y">
              <!-- KPI Row -->
              <div class="row g-3 mb-3">
                <div class="col-12">
                  <div class="kpi kpi-group w-100">
                    <div class="kpi-block text-center">
                      <div class="num">17</div>
                      <div class="mt-1 fs-5">Not Assigned</div>
                    </div>
                    <div class="kpi-block">
                      <div>
                        <div class="d-flex align-items-center gap-2 mb-1">
                          <i
                            class="mdi mdi-clipboard-text-outline mdi-24px text-primary"
                          ></i
                          ><span class="title">Asset Item</span>
                        </div>
                        <div class="num">12</div>
                      </div>
                      <div class="legend">
                        <div class="chip chip-urgent">
                          <span>Urgent</span><span>3</span>
                        </div>
                        <div class="chip chip-high">
                          <span>High</span><span>3</span>
                        </div>
                        <div class="chip chip-normal">
                          <span>Normal</span><span>3</span>
                        </div>
                      </div>
                    </div>
                    <div class="kpi-block">
                      <div>
                        <div class="d-flex align-items-center gap-2 mb-1">
                          <i
                            class="mdi mdi-map-marker-outline mdi-24px text-warning"
                          ></i
                          ><span class="title">Location</span>
                        </div>
                        <div class="num">5</div>
                      </div>
                      <div class="legend">
                        <div class="chip chip-urgent">
                          <span>Urgent</span><span>3</span>
                        </div>
                        <div class="chip chip-high">
                          <span>High</span><span>3</span>
                        </div>
                        <div class="chip chip-normal">
                          <span>Normal</span><span>3</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- /KPI Row -->

              <div class="row g-4">
                <!-- Left: Filters -->
                <div class="col-md-4">
                  <div class="card filter-card">
                    <div class="accordion" id="accordionFilter">
                      <div class="accordion-item shadow-none">
                        <h2 class="accordion-header" id="headingF">
                          <button
                            class="accordion-button fs-5 text-dark"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseF"
                            aria-expanded="true"
                            aria-controls="collapseF"
                          >
                            Filter
                          </button>
                        </h2>
                        <div
                          id="collapseF"
                          class="accordion-collapse collapse show"
                          aria-labelledby="headingF"
                        >
                          <div class="accordion-body pe-md-2">
                            <div
                              class="d-flex justify-content-between align-items-center mb-2"
                            >
                              <span>Overdue</span>
                              <label class="switch mb-0">
                                <input
                                  class="switch-input"
                                  type="checkbox"
                                  checked
                                />
                                <span class="switch-toggle-slider"
                                  ><span class="switch-on"></span
                                  ><span class="switch-off"></span
                                ></span>
                                <span class="switch-label">Yes</span>
                              </label>
                            </div>

                            <div
                              class="d-flex justify-content-between align-items-center"
                            >
                              <span>Repeat</span>
                              <label class="switch mb-0">
                                <input
                                  class="switch-input"
                                  type="checkbox"
                                  checked
                                />
                                <span class="switch-toggle-slider"
                                  ><span class="switch-on"></span
                                  ><span class="switch-off"></span
                                ></span>
                                <span class="switch-label">Yes</span>
                              </label>
                            </div>

                            <div class="filter-line"></div>

                            <h6 class="mb-1">Priority</h6>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                id="p-n"
                              /><label class="form-check-label" for="p-n"
                                >Normal</label
                              >
                            </div>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                id="p-h"
                                checked
                              /><label class="form-check-label" for="p-h"
                                >High</label
                              >
                            </div>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                id="p-u"
                                checked
                              /><label class="form-check-label" for="p-u"
                                >Urgent</label
                              >
                            </div>

                            <div class="filter-line"></div>

                            <h6 class="mb-1">MTC Type</h6>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                id="t-al"
                                checked
                              /><label class="form-check-label" for="t-al"
                                >Asset + Location</label
                              >
                            </div>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                id="t-a"
                              /><label class="form-check-label" for="t-a"
                                >Asset</label
                              >
                            </div>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                id="t-l"
                              /><label class="form-check-label" for="t-l"
                                >Location</label
                              >
                            </div>

                            <div class="filter-line"></div>

                            <h6 class="mb-1">Assigned Status</h6>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                id="as-naa"
                                checked
                              /><label class="form-check-label" for="as-naa"
                                >Not Assigned + Assigned</label
                              >
                            </div>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                id="as-a"
                              /><label class="form-check-label" for="as-a"
                                >Assigned</label
                              >
                            </div>
                            <div class="form-check">
                              <input
                                class="form-check-input"
                                type="checkbox"
                                id="as-na"
                              /><label class="form-check-label" for="as-na"
                                >Not Assigned</label
                              >
                            </div>

                            <!-- Set Projection Due Soon -->
                            <div class="proj">
                              <h6 class="mb-2">Set Projection Due Soon</h6>
                              <div class="mb-1 small text-muted">
                                Time Based
                              </div>
                              <div class="seg mb-2">
                                <button
                                  type="button"
                                  class="btn-seg active"
                                  id="seg-next"
                                >
                                  NEXT MONTH
                                </button>
                                <button
                                  type="button"
                                  class="btn-seg"
                                  id="seg-1m"
                                >
                                  1 MONTHS
                                </button>
                                <button
                                  type="button"
                                  class="btn-seg"
                                  id="seg-3m"
                                >
                                  3 MONTHS
                                </button>
                              </div>

                              <div class="mb-1 small text-muted">
                                Usage/Cycle Based
                              </div>
                              <div class="range-wrap">
                                <div class="range-outer">
                                  <input
                                    type="range"
                                    id="usagePct"
                                    min="0"
                                    max="100"
                                    value="40"
                                  />
                                  <span
                                    id="usagePctLabel"
                                    class="badge-amber-soft"
                                    >40%</span
                                  >
                                </div>
                              </div>

                              <div class="d-grid mt-3">
                                <button
                                  type="button"
                                  class="btn btn-sm btn-secondary"
                                >
                                  SAVE CONFIG
                                </button>
                              </div>
                            </div>
                            <!-- /Projection -->
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Right: List -->
                <div class="col-md-8">
                  <!-- Search -->
                  <div class="search-pill mb-2">
                    <i class="mdi mdi-magnify mdi-20px"></i>
                    <input
                      type="search"
                      placeholder="Search mtc task or mtc code or asset name or asset item"
                    />
                  </div>

                  <!-- Bulk toolbar -->
                  <div class="bulk-toolbar mb-3">
                    <span class="info">2 Work Order Selected</span>
                    <button class="btn btn-sm btn-secondary">
                      Bulk Assign
                    </button>
                  </div>

                  <!-- CARD 1 -->
                  <div class="wo-card mb-3">
                    <div class="wo-header">
                      <div class="w-100">
                        <!-- Baris ID -->
                        <div class="wo-id">
                          <label class="d-flex align-items-center gap-2 mb-1">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              checked
                            />
                            <a
                              href="#"
                              class="wo-code link-primary text-decoration-none"
                              data-bs-toggle="modal"
                              data-bs-target="#assignModal"
                              data-wo="WO-2025-05-07-0041"
                            >
                              WO-2025-05-07-0041
                            </a>
                          </label>
                        </div>
                        <!-- Judul -->
                        <div class="wo-title">MT-A002 - Engine Oil</div>
                        <!-- Meta -->
                        <div class="meta">
                          <span class="severity-high">High</span>
                          <span class="middot">•</span>
                          <span class="tag">Interval</span>
                        </div>
                      </div>
                      <span class="pill-overdue">Overdue</span>
                    </div>

                    <div class="wo-sep"></div>

                    <div class="row content-gap">
                      <div class="col-lg-7">
                        <div class="section-title">Asset</div>
                        <div class="d-flex align-items-start gap-2 asset-row">
                          <i class="mdi mdi-connection"></i>
                          <div>
                            <div class="fw-semibold">All New Avanza Hitam</div>
                            <div class="text-muted small">Gedung A</div>
                            <div class="text-muted small">
                              i-2025-05-02-0020
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-5">
                        <div class="section-title">Next Due</div>
                        <div class="d-flex align-items-start gap-2 nextdue-row">
                          <i class="mdi mdi-calendar-month-outline"></i>
                          <div>
                            <div class="next-date">
                              01 Jan 2025
                              <i
                                class="mdi mdi-information-outline text-warning"
                              ></i>
                            </div>
                            <div class="next-hint small">
                              or 10.000 Km
                              <i class="mdi mdi-alert-circle danger-dot"></i> or
                              20.000 Cycle
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="assign-bar assign-bar-primary">ASSIGN TO</div>
                  </div>

                  <!-- CARD 2 -->
                  <div class="wo-card mb-3">
                    <div class="wo-header">
                      <div class="w-100">
                        <div class="wo-id">
                          <input
                            class="form-check-input"
                            type="checkbox"
                            checked
                          />
                          <span class="wo-code">WO-2025-05-07-0042</span>
                        </div>
                        <div class="wo-title">MT-A002 - Engine Oil</div>
                        <div class="meta">
                          <span class="severity-high">High</span>
                          <span class="middot">•</span>
                          <span class="tag">Interval</span>
                        </div>
                      </div>
                    </div>

                    <div class="wo-sep"></div>

                    <div class="row content-gap">
                      <div class="col-lg-7">
                        <div class="section-title">Asset</div>
                        <div class="d-flex align-items-start gap-2 asset-row">
                          <i class="mdi mdi-connection"></i>
                          <div>
                            <div class="fw-semibold">
                              Toyota Innova Reborn Hitam
                            </div>
                            <div class="text-muted small">
                              Gedung A • Basement Area
                            </div>
                            <div class="text-muted small">
                              i-2025-05-02-0278
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-5">
                        <div class="section-title">Next Due</div>
                        <div class="d-flex align-items-start gap-2 nextdue-row">
                          <i class="mdi mdi-calendar-month-outline"></i>
                          <div>
                            <div class="next-date">01 Jan 2026</div>
                            <div class="next-hint small">
                              or 15.000 Km
                              <i class="mdi mdi-alert-circle danger-dot"></i> or
                              20.000 Cycle
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="assign-bar assign-bar-primary">ASSIGN TO</div>
                  </div>

                  <!-- CARD: MT-L002 - Check Sanitary -->
                  <div class="wo-card mb-3">
                    <div class="wo-header">
                      <div class="w-100">
                        <div class="wo-id">
                          <label class="d-flex align-items-center gap-2 mb-1">
                            <input class="form-check-input" type="checkbox" />
                            <span class="wo-code">WO-2025-05-07-0123</span>
                          </label>
                        </div>
                        <div class="wo-title">MT-L002 - Check Sanitary</div>
                        <div class="meta">
                          <span class="severity-urgent">Urgent</span>
                          <span class="middot">•</span>
                          <span class="tag">Scheduled Repeat</span>
                        </div>
                      </div>
                      <span class="pill-overdue">Overdue</span>
                    </div>

                    <div class="wo-sep"></div>

                    <div class="row content-gap">
                      <div class="col-lg-7">
                        <div class="section-title">Location</div>
                        <div class="d-flex align-items-start gap-2 asset-row">
                          <i class="mdi mdi-map-marker-outline"></i>
                          <div class="fw-semibold">
                            Floor 1 <i class="mdi mdi-stairs"></i> Room 101
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-5">
                        <div class="section-title">Next Due</div>
                        <div class="d-flex align-items-start gap-2 nextdue-row">
                          <i class="mdi mdi-calendar-month-outline"></i>
                          <div>
                            <div class="next-date">
                              01 Jun 2025
                              <i class="mdi mdi-alert-circle text-danger"></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="assign-bar assign-bar-warning">ASSIGN TO</div>
                  </div>

                  <!-- CARD: MT-L003 - Deep Clean Ballroom -->
                  <div class="wo-card mb-3">
                    <div class="wo-header">
                      <div class="w-100">
                        <div class="wo-id">
                          <label class="d-flex align-items-center gap-2 mb-1">
                            <input class="form-check-input" type="checkbox" />
                            <span class="wo-code">WO-2025-05-07-0123</span>
                          </label>
                        </div>
                        <div class="wo-title">
                          MT-L003 - Deep Clean Ballroom
                        </div>
                        <div class="meta">
                          <span class="severity-urgent">Urgent</span>
                          <span class="middot">•</span>
                          <span class="tag">Scheduled One Time</span>
                        </div>
                      </div>
                    </div>

                    <div class="wo-sep"></div>

                    <div class="row content-gap">
                      <div class="col-lg-7">
                        <div class="section-title">Location</div>
                        <div class="d-flex align-items-start gap-2 asset-row">
                          <i class="mdi mdi-map-marker-outline"></i>
                          <div class="fw-semibold">
                            Floor 1 <i class="mdi mdi-stairs"></i> Ballroom A
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-5">
                        <div class="section-title">Next Due</div>
                        <div class="d-flex align-items-start gap-2 nextdue-row">
                          <i class="mdi mdi-calendar-month-outline"></i>
                          <div>
                            <div class="next-date">
                              01 Sep 2025
                              <i
                                class="mdi mdi-information-outline text-warning"
                              ></i>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="assign-bar assign-bar-warning">ASSIGN TO</div>
                  </div>

                  <!-- CARD: MT-A002 - Engine Oil (dengan Repeat To + EDIT) -->
                  <div class="wo-card mb-3">
                    <div class="wo-header">
                      <div class="w-100">
                        <div class="wo-id">
                          <label class="d-flex align-items-center gap-2 mb-1">
                            <input class="form-check-input" type="checkbox" />
                            <span class="wo-code">WO-2025-05-07-0042</span>
                          </label>
                        </div>
                        <div class="wo-title">MT-A002 - Engine Oil</div>
                        <div class="meta">
                          <span class="severity-high">High</span>
                          <span class="middot">•</span>
                          <span class="tag">Interval</span>
                        </div>
                      </div>
                    </div>

                    <div class="wo-sep"></div>

                    <div class="row content-gap">
                      <div class="col-lg-7">
                        <div class="section-title">Asset</div>
                        <div class="d-flex align-items-start gap-2 asset-row">
                          <i class="mdi mdi-connection"></i>
                          <div>
                            <div class="fw-semibold">
                              Toyota Innova Reborn Hitam
                            </div>
                            <div class="text-muted small">
                              Gedung A
                              <i class="mdi mdi-circle-small"></i> Basement Area
                            </div>
                            <div class="text-muted small">
                              i-2025-05-02-0278
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="col-lg-5">
                        <div class="section-title">Next Due</div>
                        <div class="d-flex align-items-start gap-2 nextdue-row">
                          <i class="mdi mdi-calendar-month-outline"></i>
                          <div>
                            <div class="next-date">01 Jan 2026</div>
                            <div class="next-hint small">
                              or 15.000 Km
                              <i class="mdi mdi-alert-circle danger-dot"></i> or
                              20.000 Cycle
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Repeat To + EDIT -->
                    <div class="repeat-row">
                      <div class="repeat-left">
                        <span>Repeat To :</span>
                        <span class="user-pill">BL</span>
                      </div>
                      <button
                        type="button"
                        class="btn btn-light btn-sm btn-edit"
                      >
                        EDIT
                      </button>
                    </div>
                  </div>

                  <div
                    class="d-md-flex justify-content-between align-items-center py-3"
                  >
                    <div class="d-none d-md-block">
                      Showing 1 to 5 of 100 entries
                    </div>
                    <nav aria-label="Page navigation">
                      <ul class="pagination mb-0">
                        <li class="page-item first">
                          <a
                            class="page-link waves-effect"
                            href="javascript:void(0);"
                            ><i
                              class="tf-icon mdi mdi-skip-previous-outline mdi-20px"
                            ></i
                          ></a>
                        </li>
                        <li class="page-item prev">
                          <a
                            class="page-link waves-effect"
                            href="javascript:void(0);"
                            ><i
                              class="tf-icon mdi mdi-chevron-left mdi-20px"
                            ></i
                          ></a>
                        </li>
                        <li class="page-item active">
                          <a
                            class="page-link waves-effect"
                            href="javascript:void(0);"
                            >1</a
                          >
                        </li>
                        <li class="page-item">
                          <a
                            class="page-link waves-effect"
                            href="javascript:void(0);"
                            >2</a
                          >
                        </li>
                        <li class="page-item next">
                          <a
                            class="page-link waves-effect"
                            href="javascript:void(0);"
                            ><i
                              class="tf-icon mdi mdi-chevron-right mdi-20px"
                            ></i
                          ></a>
                        </li>
                        <li class="page-item last">
                          <a
                            class="page-link waves-effect"
                            href="javascript:void(0);"
                            ><i
                              class="tf-icon mdi mdi-skip-next-outline mdi-20px"
                            ></i
                          ></a>
                        </li>
                      </ul>
                    </nav>
                  </div>
                </div>
              </div>
            </div>

            <!-- ================== Assign Modal ================== -->
            <div
              class="modal fade"
              id="assignModal"
              tabindex="-1"
              aria-hidden="true"
            >
              <div class="modal-dialog modal-xl modal-dialog-scrollable">
                <div class="modal-content assign-modal">
                  <div class="modal-header border-0 pb-1">
                    <h5 class="modal-title fw-semibold">Assignment</h5>
                    <button
                      type="button"
                      class="btn-close"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    ></button>
                  </div>

                  <div class="modal-body pt-0">
                    <div
                      class="row justify-content-between align-items-center mb-3"
                    >
                      <div class="col">
                        <div
                          class="d-md-flex d-block g-3 gap-2 align-items-center justify-content-end"
                        >
                          <label
                            class="w-100 custom-search-input position-relative"
                          >
                            <i
                              class="mdi mdi-24px mdi-magnify position-absolute"
                              style="
                                left: 10px;
                                top: 50%;
                                transform: translateY(-50%);
                                color: #999;
                              "
                            ></i>
                            <input
                              type="search"
                              class="form-control form-control-sm ps-4 mb-md-0 mb-3 ml-2"
                              placeholder="Search Engineer name"
                              aria-controls="search datatable"
                              style="padding-left: 2.5rem !important"
                            />
                          </label>
                        </div>
                      </div>
                    </div>

                    <div
                      class="row g-3 justify-content-between align-items-center mb-3"
                    >
                      <!-- <div class="col-md-1 d-flex flex-column gap-1">
                      <div class="small custom-bg-primary rounded-2 text-center"></i> Selected</div>
                      <div class="small custom-bg-warning rounded-2 text-center"></i> others</div>
                    </div> -->
                      <div class="col-md-7">
                        <div
                          class="form-floating form-floating-outline form-floating-select2"
                        >
                          <select
                            id="skillSetForm"
                            class="form-select select2 form-control form-control-sm"
                            multiple="multiple"
                            style="width: 100%"
                            data-placeholder="Select skill sets"
                          >
                            <option value="mechanical" selected>
                              Engine Diagnostics
                            </option>
                            <option value="electrical" selected>
                              Oil Change Service
                            </option>
                            <option value="hydraulic">Hydraulic</option>
                            <option value="diagnostic">
                              Fuel Injection System Service
                            </option>
                            <option value="software">
                              Spare Parts Exchange
                            </option>
                          </select>
                          <label for="skillSet">Skill Set</label>
                        </div>
                      </div>
                      <div class="col-md-5">
                        <div
                          class="position-relative form-floating form-floating-outline"
                        >
                          <input
                            type="text"
                            id="assignmentDate"
                            class="form-control ps-3 pe-5"
                            placeholder="Select date"
                          />
                          <i
                            class="mdi mdi-calendar position-absolute top-50 end-0 translate-middle-y me-3 text-muted"
                          ></i>
                          <label for="setDate">Set Date</label>
                        </div>
                      </div>
                    </div>
                    <div class="table-responsive custom-table">
                      <table
                        class="table roster-table table-borderless align-middle text-center"
                      >
                        <thead class="align-middle thead">
                          <tr>
                            <th
                              class="freeze-column"
                              style="
                                min-width: 300px;
                                max-width: 300px;
                                background-color: white;
                              "
                            >
                              <select class="form-select" style="border: none">
                                <option selected>MONTHLY</option>
                                <option selected>WEEKLY</option>
                                <option selected>DAILY</option>
                              </select>
                            </th>
                            <th style="min-width: 180px">
                              MON,<br />30-JUN-2025
                            </th>
                            <th style="min-width: 180px">
                              TUE,<br />01-JUL-2025
                            </th>
                            <th style="min-width: 180px">
                              WED,<br />02-JUL-2025
                            </th>
                            <th style="min-width: 180px">
                              THU,<br />03-JUL-2025
                            </th>
                            <th style="min-width: 180px">
                              FRI,<br />04-JUL-2025
                            </th>
                          </tr>
                        </thead>
                        <tbody>
                          <tr>
                            <td class="freeze-column ps-3 py-2">
                              <div class="d-flex flex-column gap-1">
                                <div class="text-start fw-semibold">
                                  Antoni Setyawan
                                </div>
                                <div class="d-flex flex-wrap gap-1 w-100">
                                  <span
                                    class="badge rounded-pill bg-label-primary text-truncate"
                                    style="
                                      flex: 0 0 calc(50% - 0.5rem);
                                      max-width: 100%;
                                    "
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    data-bs-costum-class="tooltip-primary"
                                    data-bs-original-title="Engine Diagnostics"
                                  >
                                    Engine Diagnostics
                                  </span>
                                  <span
                                    class="badge rounded-pill bg-label-primary text-truncate"
                                    style="
                                      flex: 0 0 calc(50% - 0.5rem);
                                      max-width: 100%;
                                    "
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    data-bs-costum-class="tooltip-primary"
                                    data-bs-original-title="Oil Change Service"
                                  >
                                    Oil Change Service
                                  </span>
                                  <span
                                    class="badge rounded-pill bg-label-primary text-truncate"
                                    style="
                                      flex: 0 0 calc(50% - 0.5rem);
                                      max-width: 100%;
                                    "
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    data-bs-costum-class="tooltip-primary"
                                    data-bs-original-title="Fuel Injection System Service"
                                  >
                                    Fuel Injection System Service
                                  </span>
                                </div>
                              </div>
                            </td>

                            <td>
                              <div class="d-flex flex-column gap-1">
                                <div
                                  class="d-flex flex-column custom-bg-warning px-2 py-1 rounded-2 popover-trigger"
                                  data-id="WO/00020"
                                  data-date="Wed, 30–Jun–2025"
                                  data-user="Antoni Setyawan"
                                  data-repeat="true"
                                  data-items="10"
                                >
                                  <div
                                    class="d-flex align-items-center justify-content-between small"
                                  >
                                    <span>WO/00020</span>
                                    <span>1 hours</span>
                                  </div>
                                  <div class="small text-start fw-semibold">
                                    10 items
                                  </div>
                                </div>
                                <button
                                  class="btn btn-sm btn-outline-primary text-lowercase py-1"
                                  data-bs-toggle="modal"
                                  data-bs-target="#addTaskModal"
                                >
                                  <i class="mdi mdi-plus me-1"></i>
                                  add task
                                </button>
                              </div>
                            </td>

                            <td>
                              <button
                                class="flex-column btn btn-sm btn-text-primary text-lowercase py-1"
                                data-bs-toggle="modal"
                                data-bs-target="#addTaskModal"
                              >
                                <i class="mdi mdi-plus me-1"></i>
                                add task
                              </button>
                            </td>

                            <td>
                              <div class="d-flex flex-column gap-1">
                                <div
                                  class="d-flex flex-column custom-bg-primary px-2 py-1 rounded-2 popover-trigger"
                                  data-id="MC-001"
                                  data-date="Wed, 30–Jun–2025"
                                  data-user="Antoni Setyawan"
                                  data-repeat="true"
                                  data-items="2"
                                >
                                  <div
                                    class="d-flex align-items-center justify-content-between small"
                                  >
                                    <span>MC-001</span>
                                    <span>36 hours</span>
                                  </div>
                                  <div class="small text-start fw-semibold">
                                    2 items
                                  </div>
                                </div>
                                <button
                                  class="btn btn-sm btn-outline-primary text-lowercase py-1"
                                  data-bs-toggle="modal"
                                  data-bs-target="#addTaskModal"
                                >
                                  <i class="mdi mdi-plus me-1"></i>
                                  add task
                                </button>
                              </div>
                            </td>

                            <td>
                              <div class="d-flex flex-column gap-1">
                                <div
                                  class="d-flex flex-column custom-bg-warning px-2 py-1 rounded-2 popover-trigger"
                                  data-id="WO/00025"
                                  data-date="Wed, 03–Jul–2025"
                                  data-user="Antoni Setyawan"
                                  data-repeat="true"
                                  data-items="2"
                                >
                                  <div
                                    class="d-flex align-items-center justify-content-between small"
                                  >
                                    <span
                                      ><i class="mdi mdi-repeat me-1"></i
                                      >WO/00025</span
                                    >
                                    <span>1 hours</span>
                                  </div>
                                  <div class="small text-start fw-semibold">
                                    2 items
                                  </div>
                                </div>
                                <div
                                  class="d-flex flex-column custom-bg-primary px-2 py-1 rounded-2 popover-trigger"
                                  data-id="MC-001"
                                  data-date="Wed, 30–Jun–2025"
                                  data-user="Antoni Setyawan"
                                  data-repeat="true"
                                  data-items="2"
                                >
                                  <div
                                    class="d-flex align-items-center justify-content-between small"
                                  >
                                    <span>MC-001</span>
                                    <span>36 hours</span>
                                  </div>
                                  <div class="small text-start fw-semibold">
                                    2 items
                                  </div>
                                </div>
                                <button
                                  class="btn btn-sm btn-outline-primary text-lowercase py-1"
                                  data-bs-toggle="modal"
                                  data-bs-target="#addTaskModal"
                                >
                                  <i class="mdi mdi-plus me-1"></i>
                                  add task
                                </button>
                              </div>
                            </td>

                            <td>
                              <div class="d-flex flex-column gap-1">
                                <div
                                  class="d-flex flex-column custom-bg-primary px-2 py-1 rounded-2 popover-trigger"
                                  data-id="MC-001"
                                  data-date="Wed, 30–Jun–2025"
                                  data-user="Antoni Setyawan"
                                  data-repeat="true"
                                  data-items="2"
                                >
                                  <div
                                    class="d-flex align-items-center justify-content-between small"
                                  >
                                    <span>MC-001</span>
                                    <span>36 hours</span>
                                  </div>
                                  <div class="small text-start fw-semibold">
                                    2 items
                                  </div>
                                </div>
                                <button
                                  class="btn btn-sm btn-outline-primary text-lowercase py-1"
                                  data-bs-toggle="modal"
                                  data-bs-target="#addTaskModal"
                                >
                                  <i class="mdi mdi-plus me-1"></i>
                                  add task
                                </button>
                              </div>
                            </td>
                          </tr>

                          <tr>
                            <td class="freeze-column ps-3 py-2">
                              <div class="d-flex flex-column gap-1">
                                <div class="text-start fw-semibold">
                                  Budi Kuncoro
                                </div>
                                <div class="d-flex flex-wrap gap-1 w-100">
                                  <span
                                    class="badge rounded-pill bg-label-primary text-truncate"
                                    style="
                                      flex: 0 0 calc(50% - 0.5rem);
                                      max-width: 100%;
                                    "
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    data-bs-costum-class="tooltip-primary"
                                    data-bs-original-title="Engine Diagnostics"
                                  >
                                    Engine Diagnostics
                                  </span>
                                  <span
                                    class="badge rounded-pill bg-label-primary text-truncate"
                                    style="
                                      flex: 0 0 calc(50% - 0.5rem);
                                      max-width: 100%;
                                    "
                                    data-bs-toggle="tooltip"
                                    data-bs-placement="top"
                                    data-bs-costum-class="tooltip-primary"
                                    data-bs-original-title="Spare Parts Exchange"
                                  >
                                    Spare Parts Exchange
                                  </span>
                                </div>
                              </div>
                            </td>

                            <td>
                              <div class="d-flex flex-column gap-1">
                                <div
                                  class="d-flex flex-column custom-bg-warning px-2 py-1 rounded-2 popover-trigger"
                                  data-id="WO/00020"
                                  data-date="Wed, 30–Jun–2025"
                                  data-user="Antoni Setyawan"
                                  data-repeat="true"
                                  data-items="10"
                                >
                                  <div
                                    class="d-flex align-items-center justify-content-between small"
                                  >
                                    <span>WO/00020</span>
                                    <span>1 hours</span>
                                  </div>
                                  <div class="small text-start fw-semibold">
                                    10 items
                                  </div>
                                </div>
                                <div
                                  class="d-flex flex-column custom-bg-warning px-2 py-1 rounded-2 popover-trigger"
                                  data-id="WO/00020"
                                  data-date="Wed, 30–Jun–2025"
                                  data-user="Antoni Setyawan"
                                  data-repeat="true"
                                  data-items="10"
                                >
                                  <div
                                    class="d-flex align-items-center justify-content-between small"
                                  >
                                    <span>WO/00020</span>
                                    <span>1 hours</span>
                                  </div>
                                  <div class="small text-start fw-semibold">
                                    10 items
                                  </div>
                                </div>
                                <span
                                  class="small text-start cursor-pointer"
                                  data-bs-toggle="modal"
                                  data-bs-target="#moreTaskModal"
                                  >1 more</span
                                >
                                <button
                                  class="btn btn-sm btn-outline-primary text-lowercase py-1"
                                  data-bs-toggle="modal"
                                  data-bs-target="#addTaskModal"
                                >
                                  <i class="mdi mdi-plus me-1"></i>
                                  add task
                                </button>
                              </div>
                            </td>

                            <td>
                              <!-- <small class="fst-italic text-muted">no task</small> -->
                              <button
                                class="flex-column btn btn-sm btn-text-primary text-lowercase py-1"
                                data-bs-toggle="modal"
                                data-bs-target="#addTaskModal"
                              >
                                <i class="mdi mdi-plus me-1"></i>
                                add task
                              </button>
                            </td>

                            <td>
                              <div class="d-flex flex-column gap-1">
                                <div
                                  class="d-flex flex-column custom-bg-primary px-2 py-1 rounded-2 popover-trigger"
                                  data-id="MC-001"
                                  data-date="Wed, 30–Jun–2025"
                                  data-user="Antoni Setyawan"
                                  data-repeat="true"
                                  data-items="2"
                                >
                                  <div
                                    class="d-flex align-items-center justify-content-between small"
                                  >
                                    <span>MC-001</span>
                                    <span>36 hours</span>
                                  </div>
                                  <div class="small text-start fw-semibold">
                                    2 items
                                  </div>
                                </div>
                                <button
                                  class="btn btn-sm btn-outline-primary text-lowercase py-1"
                                  data-bs-toggle="modal"
                                  data-bs-target="#addTaskModal"
                                >
                                  <i class="mdi mdi-plus me-1"></i>
                                  add task
                                </button>
                              </div>
                            </td>

                            <td>
                              <div class="d-flex flex-column gap-1">
                                <div
                                  class="d-flex flex-column custom-bg-primary px-2 py-1 rounded-2 popover-trigger"
                                  data-id="MC-001"
                                  data-date="Wed, 30–Jun–2025"
                                  data-user="Antoni Setyawan"
                                  data-repeat="true"
                                  data-items="2"
                                >
                                  <div
                                    class="d-flex align-items-center justify-content-between small"
                                  >
                                    <span>MC-001</span>
                                    <span>1 hours</span>
                                  </div>
                                  <div class="small text-start fw-semibold">
                                    2 items
                                  </div>
                                </div>
                                <button
                                  class="btn btn-sm btn-outline-primary text-lowercase py-1"
                                  data-bs-toggle="modal"
                                  data-bs-target="#addTaskModal"
                                >
                                  <i class="mdi mdi-plus me-1"></i>
                                  add task
                                </button>
                              </div>
                            </td>

                            <td>
                              <div class="d-flex flex-column gap-1">
                                <div
                                  class="d-flex flex-column custom-bg-primary px-2 py-1 rounded-2 popover-trigger"
                                  data-id="MC-001"
                                  data-date="Wed, 30–Jun–2025"
                                  data-user="Antoni Setyawan"
                                  data-repeat="true"
                                  data-items="2"
                                >
                                  <div
                                    class="d-flex align-items-center justify-content-between small"
                                  >
                                    <span>MC-001</span>
                                    <span>36 hours</span>
                                  </div>
                                  <div class="small text-start fw-semibold">
                                    2 items
                                  </div>
                                </div>
                                <button
                                  class="btn btn-sm btn-outline-primary text-lowercase py-1"
                                  data-bs-toggle="modal"
                                  data-bs-target="#addTaskModal"
                                >
                                  <i class="mdi mdi-plus me-1"></i>
                                  add task
                                </button>
                              </div>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <div
                      class="d-flex justify-content-between align-items-center mt-3"
                    >
                      <div class="d-none d-md-block">
                        Showing 1 to 2 of 2 entries
                      </div>
                      <nav aria-label="Page navigation">
                        <ul class="pagination mb-0">
                          <li class="page-item prev disabled">
                            <a
                              class="page-link waves-effect"
                              href="javascript:void(0);"
                              >Previous</a
                            >
                          </li>
                          <li class="page-item active">
                            <a
                              class="page-link waves-effect"
                              href="javascript:void(0);"
                              >1</a
                            >
                          </li>
                          <li class="page-item next">
                            <a
                              class="page-link waves-effect"
                              href="javascript:void(0);"
                              >Next</a
                            >
                          </li>
                        </ul>
                      </nav>
                    </div>

                    <div class="card border-0 mt-3">
                      <div class="card-body p-3">
                        <h6 class="fw-bold mb-3">Assignment</h6>

                        <div class="mb-3">
                          <div class="text-muted">Start Date:</div>
                          <div id="assignStartDate" class="fw-semibold">
                            02-Jul-2025
                          </div>
                        </div>

                        <div class="mb-3">
                          <div class="text-muted">Engineers:</div>
                          <div id="assignEngineers" class="fw-semibold">
                            Antoni Setyawan, Alexander
                          </div>
                        </div>

                        <div class="mb-3">
                          <label
                            class="text-muted d-block mb-1"
                            for="assignDuration"
                            >Duration (Days):</label
                          >
                          <input
                            type="number"
                            class="form-control form-control-sm"
                            id="assignDuration"
                            min="0"
                            value="0"
                          />
                        </div>

                        <div class="d-flex align-items-center gap-2 mb-3">
                          <div class="text-muted m-0">Repeat:</div>
                          <div class="form-check form-switch m-0">
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="assignRepeat"
                              checked
                            />
                          </div>
                          <label class="small mb-0" for="assignRepeat"
                            >Yes</label
                          >
                        </div>
                      </div>
                    </div>

                    <div class="accordion mt-3 mb-3" id="partsAcc">
                      <div class="accordion-item border-0">
                        <h2 class="accordion-header">
                          <button
                            class="accordion-button collapsed"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#reqParts"
                          >
                            Required Parts
                          </button>
                        </h2>
                        <div
                          id="reqParts"
                          class="accordion-collapse collapse"
                          data-bs-parent="#partsAcc"
                        >
                          <div class="accordion-body pt-2">
                            <div class="text-muted small">
                              No parts selected.
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="card mb-4">
                      <div class="card-body">
                        <span
                          class="add-vendor-btn"
                          data-bs-toggle="collapse"
                          href="#vendorCollapse"
                          role="button"
                          aria-expanded="false"
                          aria-controls="vendorCollapse"
                        >
                          <h5 class="text-primary mb-0">
                            <i
                              id="vendorIcon"
                              class="mdi mdi-24px mdi-plus"
                            ></i>
                            Add Vendors
                          </h5>
                        </span>
                        <div class="collapse" id="vendorCollapse">
                          <div
                            class="row justify-content-between align-items-center"
                          >
                            <div class="col">
                              <div
                                class="d-md-flex d-block g-3 gap-2 align-items-center justify-content-end"
                              >
                                <label
                                  class="w-100 custom-search-input position-relative"
                                >
                                  <i
                                    class="mdi mdi-24px mdi-magnify position-absolute"
                                    style="
                                      left: 10px;
                                      top: 50%;
                                      transform: translateY(-50%);
                                      color: #999;
                                    "
                                  ></i>
                                  <input
                                    type="search"
                                    class="form-control form-control-sm ps-4 mb-md-0 mb-3 ml-2"
                                    placeholder="Search Item number, MTC template"
                                    aria-controls="search datatable"
                                    style="padding-left: 2.5rem !important"
                                  />
                                </label>
                              </div>
                            </div>
                          </div>
                          <div
                            class="card-datatable table-responsive custom-table text-nowrap"
                          >
                            <table class="table card-table table-borderless">
                              <thead>
                                <tr>
                                  <th class="align-middle">
                                    <div
                                      class="form-check mb-0 d-flex justify-content-center"
                                    >
                                      <input
                                        class="form-check-input"
                                        type="checkbox"
                                        value=""
                                        id="allCheckbox"
                                      />
                                    </div>
                                  </th>
                                  <th
                                    class="align-middle"
                                    style="min-width: 200px"
                                  >
                                    vendors
                                  </th>
                                  <th
                                    class="align-middle"
                                    style="min-width: 200px"
                                  >
                                    categories
                                  </th>
                                </tr>
                              </thead>
                              <tbody class="table-border-bottom-0">
                                <!-- Oilmax (contoh: terpilih + tanggal/km seperti di gambar) -->
                                <tr class="table-active">
                                  <td>
                                    <div
                                      class="form-check mb-0 d-flex justify-content-center"
                                    >
                                      <input
                                        class="form-check-input"
                                        type="checkbox"
                                        value=""
                                        id="checkbox-1"
                                        checked
                                      />
                                    </div>
                                  </td>
                                  <td>
                                    <div class="ps-2">Oilmax Lubricants</div>
                                  </td>
                                  <td>01 May 2024/3,000 Km</td>
                                </tr>

                                <!-- INNOVA REBORN HITAM (BARU) -->
                                <tr>
                                  <td>
                                    <div
                                      class="form-check mb-0 d-flex justify-content-center"
                                    >
                                      <input
                                        class="form-check-input"
                                        type="checkbox"
                                        value=""
                                        id="checkbox-2"
                                      />
                                    </div>
                                  </td>
                                  <td>
                                    <div class="ps-2">
                                      <div class="fw-semibold">
                                        INNOVA REBORN HITAM
                                      </div>
                                      <div class="text-muted small">
                                        01-88-02-13-31-G73
                                      </div>
                                    </div>
                                  </td>
                                  <td>01 May 2026/20,000 Km</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                          <div
                            class="d-md-flex d-block justify-content-between align-items-center"
                          >
                            <div>Showing 1 to 7 of 100 entries</div>
                            <nav aria-label="Page navigation">
                              <ul class="pagination mb-0">
                                <li class="page-item first">
                                  <a
                                    class="page-link waves-effect"
                                    href="javascript:void(0);"
                                    ><i
                                      class="tf-icon mdi mdi-skip-previous-outline mdi-20px"
                                    ></i
                                  ></a>
                                </li>
                                <li class="page-item prev">
                                  <a
                                    class="page-link waves-effect"
                                    href="javascript:void(0);"
                                    ><i
                                      class="tf-icon mdi mdi-chevron-left mdi-20px"
                                    ></i
                                  ></a>
                                </li>
                                <li class="page-item active">
                                  <a
                                    class="page-link waves-effect"
                                    href="javascript:void(0);"
                                    >1</a
                                  >
                                </li>
                                <li class="page-item">
                                  <a
                                    class="page-link waves-effect"
                                    href="javascript:void(0);"
                                    >2</a
                                  >
                                </li>
                                <li class="page-item next">
                                  <a
                                    class="page-link waves-effect"
                                    href="javascript:void(0);"
                                    ><i
                                      class="tf-icon mdi mdi-chevron-right mdi-20px"
                                    ></i
                                  ></a>
                                </li>
                                <li class="page-item last">
                                  <a
                                    class="page-link waves-effect"
                                    href="javascript:void(0);"
                                    ><i
                                      class="tf-icon mdi mdi-skip-next-outline mdi-20px"
                                    ></i
                                  ></a>
                                </li>
                              </ul>
                            </nav>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="modal-footer border-0 pt-0">
                    <button
                      class="btn btn-outline-secondary"
                      data-bs-dismiss="modal"
                    >
                      Cancel
                    </button>
                    <button class="btn btn-primary">Save</button>
                  </div>
                </div>
              </div>
            </div>
            <!-- ================== /Assign Modal ================== -->

            <!-- ================== Assign Modal (Scheduled Repeat) ================== -->
            <div
              class="modal fade"
              id="assignRepeatModal"
              tabindex="-1"
              aria-hidden="true"
            >
              <div class="modal-dialog modal-xl modal-dialog-scrollable">
                <div class="modal-content assign-modal">
                  <div class="modal-header border-0 pb-1">
                    <h5 class="modal-title fw-semibold">
                      Assign To:
                      <span id="assignRepeatWo" class="text-muted"></span>
                    </h5>
                    <button
                      type="button"
                      class="btn-close"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    ></button>
                  </div>

                  <div class="modal-body pt-0">
                    <!-- Search Engineer -->
                    <div class="mb-3">
                      <label
                        class="w-100 custom-search-input position-relative"
                      >
                        <i
                          class="mdi mdi-24px mdi-magnify position-absolute"
                          style="
                            left: 10px;
                            top: 50%;
                            transform: translateY(-50%);
                            color: #999;
                          "
                        ></i>
                        <input
                          type="search"
                          class="form-control form-control-sm ps-4"
                          placeholder="Search Engineer name"
                          style="padding-left: 2.5rem !important"
                        />
                      </label>
                    </div>

                    <!-- Skill Set -->
                    <div
                      class="form-floating form-floating-outline form-floating-select2 mb-3"
                    >
                      <select
                        id="skillSetRepeat"
                        class="form-select select2"
                        multiple="multiple"
                        style="width: 100%"
                        data-placeholder="Select skill sets"
                      >
                        <option value="engine" selected>
                          Engine Diagnostics
                        </option>
                        <option value="cleaning" selected>
                          Cleaning Service
                        </option>
                        <option value="electrical">Electrical</option>
                        <option value="hydraulic">Hydraulic</option>
                        <option value="diagnostic">
                          Fuel Injection System Service
                        </option>
                        <option value="software">Spare Parts Exchange</option>
                      </select>
                      <label for="skillSetRepeat">Skill Set</label>
                    </div>

                    <!-- List Engineer (tampilan simple seperti screenshot) -->
                    <div class="table-responsive custom-table">
                      <table
                        class="table card-table table-borderless align-middle"
                      >
                        <tbody>
                          <tr>
                            <td class="text-center" style="width: 48px">
                              <input class="form-check-input" type="checkbox" />
                            </td>
                            <td>Antoni Setyawan</td>
                            <td class="text-end">
                              <span class="badge rounded-pill bg-label-primary"
                                >Engine Diagnostics</span
                              >
                            </td>
                          </tr>
                          <tr>
                            <td class="text-center">
                              <input class="form-check-input" type="checkbox" />
                            </td>
                            <td>Budi Kuncoro</td>
                            <td class="text-end">
                              <span class="badge rounded-pill bg-label-primary"
                                >Engine Diagnostics</span
                              >
                              <span class="badge rounded-pill bg-label-primary"
                                >Cleaning Service</span
                              >
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>

                    <div
                      class="d-flex justify-content-between align-items-center my-2"
                    >
                      <div class="small text-muted">
                        Showing 1 to 2 of 2 entries
                      </div>
                      <nav aria-label="Page navigation">
                        <ul class="pagination mb-0">
                          <li class="page-item prev disabled">
                            <a
                              class="page-link waves-effect"
                              href="javascript:void(0);"
                              >Previous</a
                            >
                          </li>
                          <li class="page-item active">
                            <a
                              class="page-link waves-effect"
                              href="javascript:void(0);"
                              >1</a
                            >
                          </li>
                          <li class="page-item next disabled">
                            <a
                              class="page-link waves-effect"
                              href="javascript:void(0);"
                              >Next</a
                            >
                          </li>
                        </ul>
                      </nav>
                    </div>

                    <!-- Required Parts (accordion) -->
                    <div class="accordion mt-3" id="partsAccRepeat">
                      <div class="accordion-item border-0">
                        <h2 class="accordion-header">
                          <button
                            class="accordion-button collapsed am-acc-btn"
                            type="button"
                            data-bs-toggle="collapse"
                            data-bs-target="#reqPartsRepeat"
                          >
                            Required Parts
                          </button>
                        </h2>
                        <div
                          id="reqPartsRepeat"
                          class="accordion-collapse collapse"
                          data-bs-parent="#partsAccRepeat"
                        >
                          <div class="accordion-body pt-2">
                            <div class="text-muted small">
                              No parts selected.
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                    <!-- Add Vendors -->
                    <div class="card mt-3 border-0">
                      <div class="card-body">
                        <span
                          class="add-vendor-btn"
                          data-bs-toggle="collapse"
                          href="#vendorCollapseRepeat"
                          role="button"
                          aria-expanded="false"
                          aria-controls="vendorCollapseRepeat"
                        >
                          <h5 class="text-primary mb-0">
                            <i
                              id="vendorIconRepeat"
                              class="mdi mdi-24px mdi-plus"
                            ></i>
                            Add Vendors
                          </h5>
                        </span>

                        <div class="collapse" id="vendorCollapseRepeat">
                          <div class="table-responsive custom-table mt-3">
                            <table class="table card-table table-borderless">
                              <thead>
                                <tr>
                                  <th
                                    class="align-middle text-center"
                                    style="width: 48px"
                                  >
                                    <input
                                      class="form-check-input"
                                      type="checkbox"
                                    />
                                  </th>
                                  <th
                                    class="align-middle"
                                    style="min-width: 200px"
                                  >
                                    Vendors
                                  </th>
                                  <th
                                    class="align-middle"
                                    style="min-width: 200px"
                                  >
                                    Categories
                                  </th>
                                </tr>
                              </thead>
                              <tbody class="table-border-bottom-0">
                                <tr class="table-active">
                                  <td class="text-center">
                                    <input
                                      class="form-check-input"
                                      type="checkbox"
                                      checked
                                    />
                                  </td>
                                  <td>
                                    <div class="ps-2">Oilmax Lubricants</div>
                                  </td>
                                  <td>01 May 2024/3,000 Km</td>
                                </tr>
                                <tr>
                                  <td class="text-center">
                                    <input
                                      class="form-check-input"
                                      type="checkbox"
                                    />
                                  </td>
                                  <td>
                                    <div class="ps-2">
                                      <div class="fw-semibold">
                                        INNOVA REBORN HITAM
                                      </div>
                                      <div class="text-muted small">
                                        01-88-02-13-31-G73
                                      </div>
                                    </div>
                                  </td>
                                  <td>01 May 2026/20,000 Km</td>
                                </tr>
                              </tbody>
                            </table>
                          </div>

                          <div
                            class="d-md-flex d-block justify-content-between align-items-center"
                          >
                            <div>Showing 1 to 2 of 2 entries</div>
                            <nav aria-label="Page navigation">
                              <ul class="pagination mb-0">
                                <li class="page-item prev disabled">
                                  <a
                                    class="page-link waves-effect"
                                    href="javascript:void(0);"
                                    ><i
                                      class="tf-icon mdi mdi-chevron-left mdi-20px"
                                    ></i
                                  ></a>
                                </li>
                                <li class="page-item active">
                                  <a
                                    class="page-link waves-effect"
                                    href="javascript:void(0);"
                                    >1</a
                                  >
                                </li>
                                <li class="page-item next disabled">
                                  <a
                                    class="page-link waves-effect"
                                    href="javascript:void(0);"
                                    ><i
                                      class="tf-icon mdi mdi-chevron-right mdi-20px"
                                    ></i
                                  ></a>
                                </li>
                              </ul>
                            </nav>
                          </div>
                        </div>
                        <!-- /collapse -->
                      </div>
                    </div>
                  </div>

                  <div class="modal-footer border-0 pt-0">
                    <button
                      class="btn btn-outline-secondary"
                      data-bs-dismiss="modal"
                    >
                      Cancel
                    </button>
                    <button class="btn btn-primary">Save</button>
                  </div>
                </div>
              </div>
            </div>
            <!-- ================== /Assign Modal (Scheduled Repeat) ================== -->

            <!-- Modal (optional) -->
            <div
              class="modal fade"
              id="deleteConfirmation"
              tabindex="-1"
              aria-hidden="true"
            >
              <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="deleteConfirmationLabel">
                      Delete MTC : MC-A001
                    </h5>
                    <button
                      type="button"
                      class="btn-close"
                      data-bs-dismiss="modal"
                      aria-label="Close"
                    ></button>
                  </div>
                  <div class="modal-body">
                    Are you sure to delete this user "MC-A001"?
                  </div>
                  <div class="modal-footer">
                    <button
                      type="button"
                      class="btn btn-secondary"
                      data-bs-dismiss="modal"
                    >
                      Cancel
                    </button>
                    <button
                      type="button"
                      class="btn btn-primary btn-confirm-delete"
                    >
                      Delete
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- /content-wrapper -->
        </div>
        <!-- /layout-page -->
      </div>
      <!-- /layout-container -->

      <div class="layout-overlay layout-menu-toggle"></div>
    </div>

    <!-- Core JS -->
    <!-- build:js assets/vendor/js/core.js -->
    <script src="./assets/vendor/libs/jquery/jquery.js"></script>
    <script src="./assets/vendor/libs/popper/popper.js"></script>
    <script src="./assets/vendor/js/bootstrap.js"></script>
    <script src="./assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
    <script src="./assets/vendor/libs/node-waves/node-waves.js"></script>

    <script src="./assets/vendor/libs/hammer/hammer.js"></script>
    <script src="./assets/vendor/libs/i18n/i18n.js"></script>
    <script src="./assets/vendor/libs/typeahead-js/typeahead.js"></script>
    <script src="./assets/vendor/libs/flatpickr/flatpickr.js"></script>

    <script src="./assets/vendor/js/menu.js"></script>
    <!-- endbuild -->

    <!-- Vendors JS -->
    <script src="./assets/vendor/libs/moment/moment.js"></script>
    <script src="./assets/vendor/libs/datatables-bs5/datatables-bootstrap5.js"></script>
    <script src="./assets/vendor/libs/select2/select2.js"></script>
    <script src="./assets/vendor/libs/nouislider/nouislider.js"></script>
    <script src="./assets/vendor/libs/nouislider/wNumb.min.js.js"></script>

    <!-- Main JS -->
    <script src="./assets/js/main.js"></script>

    <!-- Page JS -->
    <script src="./assets/js/dispatcher-central.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // 1) Matikan trigger lama di link WO code (kalau masih ada)
        document
          .querySelectorAll('.wo-code[data-bs-toggle="modal"]')
          .forEach((el) => {
            el.removeAttribute("data-bs-toggle");
            el.removeAttribute("data-bs-target");
          });

        // 2) Pasang trigger di tombol ASSIGN TO
        document.querySelectorAll(".wo-card").forEach((card) => {
          const tagText = (card.querySelector(".meta .tag")?.textContent || "")
            .trim()
            .toLowerCase();
          const assignBar = card.querySelector(".assign-bar");
          const woCode = (
            card.querySelector(".wo-code")?.textContent || ""
          ).trim();

          if (!assignBar) return;

          // reset
          assignBar.removeAttribute("data-bs-toggle");
          assignBar.removeAttribute("data-bs-target");
          assignBar.removeAttribute("data-wo");

          if (tagText.includes("interval")) {
            assignBar.setAttribute("data-bs-toggle", "modal");
            assignBar.setAttribute("data-bs-target", "#assignModal");
            if (woCode) assignBar.setAttribute("data-wo", woCode);
            assignBar.style.cursor = "pointer";
          } else if (tagText.includes("scheduled repeat")) {
            assignBar.setAttribute("data-bs-toggle", "modal");
            assignBar.setAttribute("data-bs-target", "#assignRepeatModal");
            if (woCode) assignBar.setAttribute("data-wo", woCode);
            assignBar.style.cursor = "pointer";
          } else {
            // type lain: non-trigger
            assignBar.style.cursor = "default";
          }
        });

        // 3) Isi WO code saat masing-masing modal dibuka
        const intervalModal = document.getElementById("assignModal");
        if (intervalModal) {
          // sisipkan label kecil bila belum ada
          const mTitle = intervalModal.querySelector(".modal-title");
          if (mTitle && !document.getElementById("assignWoCode")) {
            const small = document.createElement("small");
            small.id = "assignWoCode";
            small.className = "text-muted ms-2";
            mTitle.appendChild(small);
          }
          intervalModal.addEventListener("show.bs.modal", (e) => {
            const trigger = e.relatedTarget;
            const wo = trigger?.getAttribute("data-wo") || "";
            const label = document.getElementById("assignWoCode");
            if (label) label.textContent = wo ? "• " + wo : "";
          });
        }

        const repeatModal = document.getElementById("assignRepeatModal");
        if (repeatModal) {
          repeatModal.addEventListener("show.bs.modal", (e) => {
            const trigger = e.relatedTarget;
            const wo = trigger?.getAttribute("data-wo") || "";
            const span = document.getElementById("assignRepeatWo");
            if (span) span.textContent = wo;
          });
        }

        // 4) Init widget untuk kedua modal
        if (window.jQuery && $.fn.select2) {
          $("#skillSetForm").select2({
            // dari modal Interval
            width: "100%",
            closeOnSelect: false,
            tags: false,
            placeholder: "Select skill sets",
            minimumResultsForSearch: -1,
          });
          $("#skillSetRepeat").select2({
            // dari modal Scheduled Repeat
            width: "100%",
            closeOnSelect: false,
            tags: false,
            placeholder: "Select skill sets",
            minimumResultsForSearch: -1,
          });
        }
        if (window.flatpickr) {
          flatpickr("#assignmentDate", { dateFormat: "d-M-Y" }); // interval modal
        }
      });
    </script>
  </body>
</html>
